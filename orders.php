<!doctype html>
<html lang="en">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pesanan Saya</title>
    <link rel="icon" type="image/x-icon" href="img/logo/logo-alt.png" />
    <link rel="stylesheet" href="css/responsive.css" />
    <link rel="stylesheet" href="css/orders.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/izitoast/dist/css/iziToast.min.css">

    <link
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
  rel="stylesheet"
/>
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
  </head>
  <body>
    <header>
      <nav id="nav-desktop">
        <div class="nav large-container">
          <ul>
            <li data-aos="fade-down" data-aos-duration="500">
              <a href="index.html">Home</a>
            </li>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="100"
            >
              <a href="AboutUs.html">About</a>
            </li>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="200"
            >
              <a href="Makanan.html">Menu</a>
            </li>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="400"
            >
              <a href="#reservation">Reservasi</a>
            </li>
          </ul>

          <img
            src="img/logo/logo2.png"
            data-aos="fade-down"
            data-aos-duration="500"
            data-aos-delay="300"
            alt="logo"
            width="150px"
            height="75px"
          />

          <ul>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="500"
            >
              <a href="#location">Lokasi</a>
            </li>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="600"
            >
              <a href="findJobs.html">Karir</a>
            </li>
            <li
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="700"
            >
              <a href="findJobs.html">
                <i class="fas fa-shopping-cart"></i>
              </a>
            </li>

            <!-- Notification -->
            <li
  class="notification-dropdown"
  data-aos="fade-down"
  data-aos-duration="500"
  data-aos-delay="800"
>
  <a href="#">
    <i class="fas fa-bell"></i>
    <span class="notification-badge">3</span>
  </a>
  <div class="dropdown-content">
    <div class="notification-item">
      <img src="img/notification/1.avif" alt="Promo Tahun Baru" />
      <div class="notification-text">
        <h4>Promo Tahun Baru</h4>
        <p>Diskon hingga 50% untuk semua menu!</p>
      </div>
    </div>
    <div class="notification-item">
      <img src="img/notification/sate-goreng.jpg" alt="Promo Makan Hemat" />
      <div class="notification-text">
        <h4>Menu Baru Wajib Coba!</h4>
        <p>Rasakan kenikmatan sate goreng ayam!</p>
      </div>
    </div>
    <div class="notification-item">
      <img src="img/notification/4.webp" alt="Reservasi Spesial" />
      <div class="notification-text">
        <h4>Jam Operasional Baru</h4>
        <p>Sekarang kami buka hingga pukul 21:00!</p>
      </div>
    </div>
  </div>
</li>

<!-- User -->
<li
  class="user-dropdown"
  data-aos="fade-down"
  data-aos-duration="500"
  data-aos-delay="900"
>
  <a href="#">
    <i class="fas fa-user"></i>
  </a>
  <div class="dropdown-content-user">
    <div class="user-info">
      <img src="img/profile-pic.png" alt="User Profile" />
      <div class="user-name">dikialift13</div>
    </div>
    <div class="dropdown-divider"></div>
    <a href="account.html" class="dropdown-item">
      <i class="fas fa-user-cog"></i> <p> Akun Saya</p>
    </a>
    <a href="orders.html" class="dropdown-item">
      <i class="fas fa-box"></i> <p> Pesanan Saya</p>
    </a>
    <a href="reservations.html" class="dropdown-item">
      <i class="fas fa-calendar-alt"></i> <p> Reservasi Saya</p>
    </a>
    <div class="dropdown-divider"></div>
    <a href="signout.html" class="dropdown-item logout">
      <i class="fas fa-sign-out-alt"></i> <p> Sign Out</p>
    </a>
  </div>
</li>


          </ul>
        </div>
      </nav>

      <nav id="nav-mobile">
        <div class="nav-mobile">
          <div class="nav large-container">
            <img
              src="img/logo/logo-alt.png"
              data-aos="fade-down"
              data-aos-duration="500"
              data-aos-delay="200"
              alt="logo-alt"
              width="50px"
              height="50px"
            />
            <div id="burger-navigation">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        </div>

        <div class="nav-mobile-main">
          <div>
            <a href="index.html">Home</a>
          </div>
          <div>
            <a href="about.html">About Us</a>
          </div>
          <div>
            <a href="Makanan.html">Menu</a>
          </div>
          <div>
            <a href="#reservation">Reservation</a>
          </div>
          <div>
            <a href="#location">Location</a>
          </div>
          <div>
            <a href="findJobs.html">Find Jobs</a>
          </div>
        </div>
      </nav>
          </header>

                  <!-- Main Content Container -->
<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="user-profile">
      <img src="img/profile-pic.png" alt="User Profile" class="profile-image">
      <h3>John Doe</h3>
      <p>Member since 2024</p>
    </div>
    <ul class="sidebar-menu">
      <li>
        <a href="account.html">
          <i class="fas fa-user"></i>
          <span>Akun Saya</span>
        </a>
      </li>
      <li>
        <a href="orders.html" class="active">
          <i class="fas fa-box"></i>
          <span>Pesanan Saya</span>
        </a>
      </li>
      <li>
        <a href="reservations.html">
          <i class="fas fa-calendar-alt"></i>
          <span>Reservasi Saya</span>
        </a>
      </li>
      </ul>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <div class="content-header">
      <h1>Pesanan Saya</h1>
      <div class="filter-section">
        <div class="date-filter">
          <input type="date" id="startDate" class="date-input">
          <span>hingga</span>
          <input type="date" id="endDate" class="date-input">
        </div>
        <select class="status-filter">
          <option value="all">Semua Status</option>
          <option value="pending">Menunggu Pembayaran</option>
          <option value="processing">Diproses</option>
          <option value="delivered">Selesai</option>
          <option value="cancelled">Dibatalkan</option>
        </select>
      </div>
    </div>

    <div class="orders-list">
      <!-- Order Card -->
      <div class="order-card">
        <div class="order-header">
          <div class="order-info">
            <span class="order-id">#ORD123456</span>
            <span class="order-date">7 Januari 2025, 14:30</span>
          </div>
          <span class="order-status processing">Sedang Diproses</span>
        </div>
        
        <div class="order-items">
          <div class="order-item">
            <img src="img/main-course/nasi-goreng.jpg" alt="Nasi Goreng Spesial" class="item-image">
            <div class="item-details">
              <h4>Nasi Goreng Spesial</h4>
              <p class="item-quantity">2x</p>
              <p class="item-price">Rp 25.000/porsi</p>
            </div>
          </div>
        </div>

        <div class="order-footer">
          <div class="order-total">
            <span>Total Pesanan:</span>
            <h3>Rp 50.000</h3>
          </div>
          
          <div class="order-actions">
            <button class="btn track-order">
              <i class="fas fa-truck"></i> Lacak Pesanan
            </button>
            <button class="btn view-details">
              <i class="fas fa-eye"></i> Detail
            </button>
          </div>
        </div>

        <div class="rating-section">
          <h4>Beri Rating</h4>
          <div class="star-rating">
            <input type="radio" id="star5" name="rating" value="5">
            <label for="star5"><i class="fas fa-star"></i></label>
            <input type="radio" id="star4" name="rating" value="4">
            <label for="star4"><i class="fas fa-star"></i></label>
            <input type="radio" id="star3" name="rating" value="3">
            <label for="star3"><i class="fas fa-star"></i></label>
            <input type="radio" id="star2" name="rating" value="2">
            <label for="star2"><i class="fas fa-star"></i></label>
            <input type="radio" id="star1" name="rating" value="1">
            <label for="star1"><i class="fas fa-star"></i></label>
          </div>
          <textarea placeholder="Bagikan pengalaman Anda..." class="feedback-input"></textarea>
          <button class="btn submit-rating">Kirim Review</button>
        </div>
      </div>

      <!-- Order History Card -->
      <div class="order-card completed">
        <div class="order-header">
          <div class="order-info">
            <span class="order-id">#ORD123455</span>
            <span class="order-date">6 Januari 2025, 19:15</span>
          </div>
          <span class="order-status completed">Selesai</span>
        </div>
        
        <div class="order-items">
          <div class="order-item">
            <img src="img/main-course/sate-ayam.jpg" alt="Sate Ayam" class="item-image">
            <div class="item-details">
              <h4>Sate Ayam</h4>
              <p class="item-quantity">1x</p>
              <p class="item-price">Rp 35.000/porsi</p>
            </div>
          </div>
        </div>

        <div class="order-footer">
          <div class="order-total">
            <span>Total Pesanan:</span>
            <h3>Rp 35.000</h3>
          </div>
          
          <div class="order-actions">
            <button class="btn order-again">
              <i class="fas fa-redo"></i> Pesan Lagi
            </button>
            <button class="btn view-details">
              <i class="fas fa-eye"></i> Detail
            </button>
          </div>
        </div>

        <div class="rating-submitted">
          <div class="rating-display">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
            <span>(4.5)</span>
          </div>
          <p class="feedback-display">"Sate ayamnya enak, bumbu kacangnya mantap!"</p>
        </div>
      </div>
    </div>

    <!-- Pagination -->
    <div class="pagination">
      <button class="page-btn"><i class="fas fa-chevron-left"></i></button>
      <button class="page-btn active">1</button>
      <button class="page-btn">2</button>
      <button class="page-btn">3</button>
      <button class="page-btn"><i class="fas fa-chevron-right"></i></button>
    </div>
  </main>
</div>

        
    <!-- Footer -->
    <footer>
      <div class="footer-info">
        <div class="footer-info-items main-container">
          <div data-aos="fade-up">
            <h3>Selamat Datang di BOLOOO</h3>
            <p>Tempat setiap gigitan bercerita</p>
            <p>
              Masuki tempat berlindung kami yang nyaman, di mana kehangatan
              keramahan yang tulus mengundang Anda untuk bersantai dan menikmati
              momen kenikmatan yang menyenangkan.
            </p>
          </div>
          <div data-aos="fade-up" data-aos-delay="100">
            <h3>Kunjungi Kami</h3>
            <p>
              Jl. Sukapura No.76, Cipagalo, Kec. Bojongsoang, Kabupaten Bandung,
              Jawa Barat 40287
            </p>

            <h3>Hubungi Kami</h3>
            <p>
              6281215486311<br />
              BOLOOO.food@gmail.com
            </p>
          </div>

          <div data-aos="fade-up" data-aos-delay="200">
            <h3>Unduh Aplikasi</h3>
            <div>
              <a href="formPemesanan.html">
                <img
                  src="img/logo/google-play-icon.png"
                  alt="Google Play"
                  width="150px"
                  height="45px"
              /></a>
            </div>

            <div>
              <a href="formPemesanan.html">
                <img
                  src="img/logo/app-store-icon.png"
                  alt="App Store"
                  width="150px"
                  height="45px"
              /></a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-copyright">
        <div class="footer-items large-container">
          <div class="footer-left">&copy; 2024 BOLOOO. All Rights Reserved</div>

          <div class="footer-mid">
            <img
              src="img/logo/logo.png"
              alt="logo"
              width="150px"
              height="100px"
            />
          </div>

          <div class="footer-right">Rasakan Bedanya</div>
        </div>
    </footer>

    <script src="js/script.js" type="text/javascript"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/izitoast/dist/js/iziToast.min.js"></script>
    <script>
      AOS.init();
    </script>
    <script>
      // DOM Elements
document.addEventListener('DOMContentLoaded', function() {
    const startDate = document.getElementById('startDate');
    const endDate = document.getElementById('endDate');
    const statusFilter = document.querySelector('.status-filter');
    const ordersList = document.querySelector('.orders-list');
    const paginationButtons = document.querySelectorAll('.page-btn');
    
    // Initialize date pickers
    if (startDate && endDate) {
        // Set default date values (last 30 days)
        const today = new Date();
        const thirtyDaysAgo = new Date(today);
        thirtyDaysAgo.setDate(today.getDate() - 30);
        
        startDate.valueAsDate = thirtyDaysAgo;
        endDate.valueAsDate = today;
        
        // Add event listeners for date filters
        [startDate, endDate].forEach(input => {
            input.addEventListener('change', filterOrders);
        });
    }
    
    // Status filter functionality
    if (statusFilter) {
        statusFilter.addEventListener('change', filterOrders);
    }
    
    // Star rating system
    const setupStarRating = () => {
        const starLabels = document.querySelectorAll('.star-rating label');
        starLabels.forEach(label => {
            label.addEventListener('mouseover', function() {
                const currentRating = this.previousElementSibling.value;
                const stars = this.parentElement.querySelectorAll('label');
                
                stars.forEach(star => {
                    star.style.color = '#ccc';
                });
                
                for (let i = 0; i < currentRating; i++) {
                    stars[i].style.color = 'var(--accent-color)';
                }
            });
            
            label.addEventListener('mouseout', function() {
                const checkedInput = this.parentElement.querySelector('input:checked');
                const stars = this.parentElement.querySelectorAll('label');
                
                stars.forEach(star => {
                    star.style.color = '#ccc';
                });
                
                if (checkedInput) {
                    for (let i = 0; i < checkedInput.value; i++) {
                        stars[i].style.color = 'var(--accent-color)';
                    }
                }
            });
        });
    };
    
    // Submit rating functionality
    const setupRatingSubmission = () => {
        const submitButtons = document.querySelectorAll('.submit-rating');
        submitButtons.forEach(button => {
            button.addEventListener('click', function() {
                const orderCard = this.closest('.order-card');
                const rating = orderCard.querySelector('input[name="rating"]:checked');
                const feedback = orderCard.querySelector('.feedback-input');
                
                if (!rating) {
                    showNotification('Please select a rating');
                    return;
                }
                
                // Simulate rating submission
                showNotification('Thank you for your feedback!');
                
                // Replace rating section with submitted rating display
                const ratingSection = orderCard.querySelector('.rating-section');
                const ratingDisplay = document.createElement('div');
                ratingDisplay.className = 'rating-submitted';
                ratingDisplay.innerHTML = `
                    <div class="rating-display">
                        ${Array(5).fill().map((_, i) => 
                            `<i class="fas fa-star" style="color: ${i < rating.value ? 'var(--accent-color)' : '#ccc'}"></i>`
                        ).join('')}
                        <span>(${rating.value}.0)</span>
                    </div>
                    ${feedback.value ? `<p class="feedback-display">"${feedback.value}"</p>` : ''}
                `;
                ratingSection.replaceWith(ratingDisplay);
            });
        });
    };
    
    // Order tracking functionality
    const setupOrderTracking = () => {
        const trackButtons = document.querySelectorAll('.track-order');
        trackButtons.forEach(button => {
            button.addEventListener('click', function() {
                const orderId = this.closest('.order-card').querySelector('.order-id').textContent;
                showOrderTracking(orderId);
            });
        });
    };
    
    // View details functionality
    const setupViewDetails = () => {
        const viewButtons = document.querySelectorAll('.view-details');
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const orderCard = this.closest('.order-card');
                const orderId = orderCard.querySelector('.order-id').textContent;
                showOrderDetails(orderId);
            });
        });
    };
    
    // Order again functionality
    const setupOrderAgain = () => {
        const orderAgainButtons = document.querySelectorAll('.order-again');
        orderAgainButtons.forEach(button => {
            button.addEventListener('click', function() {
                const orderCard = this.closest('.order-card');
                const orderItems = orderCard.querySelectorAll('.order-item');
                reorderItems(orderItems);
            });
        });
    };
    
    // Pagination functionality
    const setupPagination = () => {
        paginationButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                paginationButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                // Here you would typically fetch and display the corresponding page of orders
                loadOrdersPage(this.textContent);
            });
        });
    };
    
    // Helper Functions
    function filterOrders() {
        const start = startDate.value;
        const end = endDate.value;
        const status = statusFilter.value;
        
        // Here you would typically make an API call to fetch filtered orders
        console.log(`Filtering orders: ${start} to ${end}, status: ${status}`);
        
        // Simulate loading state
        ordersList.style.opacity = '0.5';
        setTimeout(() => {
            ordersList.style.opacity = '1';
        }, 500);
    }
    
    function showOrderTracking(orderId) {
        // Implement order tracking modal/popup
        alert(`Tracking order: ${orderId}`);
    }
    
    function showOrderDetails(orderId) {
        // Implement order details modal/popup
        alert(`Showing details for order: ${orderId}`);
    }
    
    function reorderItems(items) {
        // Implement reorder functionality
        alert('Adding items to cart...');
    }
    
    function loadOrdersPage(pageNumber) {
        // Implement page loading
        console.log(`Loading page ${pageNumber}`);
    }
    
    function showNotification(message) {
        // Check if iziToast is available
        if (typeof iziToast !== 'undefined') {
            iziToast.show({
                message: message,
                position: 'topRight',
                theme: 'dark',
                timeout: 3000
            });
        } else {
            alert(message);
        }
    }
    
    // Initialize all functionalities
    setupStarRating();
    setupRatingSubmission();
    setupOrderTracking();
    setupViewDetails();
    setupOrderAgain();
    setupPagination();
});

      document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("reservation-item-form");

    form.addEventListener("submit", function (event) {
        event.preventDefault();

        const isLoggedIn = sessionStorage.getItem("loggedIn");

        if (isLoggedIn) {
            iziToast.success({
                title: "Berhasil!",
                message: "Reservasi Anda sedang diproses.",
                position: "topRight",
                timeout: 3000,
                onClosing: function () {
                    // Simulasi pengiriman data reservasi ke halaman admin
                    const reservasiData = {
                        nama: document.getElementById("table_name").value,
                        jumlahOrang: document.getElementById("table_capacity").value,
                        tanggalWaktu: document.getElementById("order_date").value,
                        pesanan: document.getElementById("order").value,
                    };

                    // Simpan data ke localStorage sementara (simulasi)
                    localStorage.setItem("reservasiData", JSON.stringify(reservasiData));
                    window.location.href = "admin/reservation.html";
                }
            });
        } else {
            iziToast.warning({
                title: "Perhatian!",
                message: "Anda harus login terlebih dahulu untuk melakukan reservasi.",
                position: "topRight",
                timeout: 3000,
                onClosing: function () {
                    window.location.href = "login-register.html";
                }
            });
        }
    });

    // Fungsi logout otomatis setelah 2 menit
    setTimeout(() => {
        sessionStorage.removeItem("loggedIn");
    }, 120000); // 2 menit dalam milidetik
});

document.querySelectorAll('.toggle-password').forEach(toggle => {
  toggle.addEventListener('click', function() {
    const input = this.previousElementSibling;
    const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
    input.setAttribute('type', type);
    this.classList.toggle('fa-eye');
    this.classList.toggle('fa-eye-slash');
  });
});
    </script>
  </body>
</html>
